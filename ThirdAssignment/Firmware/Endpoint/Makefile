# name of your application
APPLICATION = LoraHenhouse

# If no BOARD is found in the environment, use this default:
BOARD ?= b-l072z-lrwan1

# This has to be the absolute path to the RIOT base directory:
#RIOTBASE ?= $(CURDIR)/../../RIOT
RIOTBASE ?= /home/salvo/RIOT-202107_original

# Comment this out to disable code in RIOT that does safety checking
# which is not needed in a production environment but helps in the
# development process:
DEVELHELP ?= 1

# Change this to 0 show compiler invocation lines by default:
QUIET ?= 1

#Features to get CPUID
FEATURES_REQUIRED = periph_cpuid

# Modules to include:
USEMODULE += xtimer

USEMODULE += periph_gpio # To use leds, since they are connected through GPIO

USEMODULE += printf_float
USEMODULE += matstat # #Module to Import "matstat.h" in "main.c"
# Temperature sensor driver
USEMODULE += hts221


# SHA256 random number generator module
USEMODULE += random
USEMODULE += prng_sha256prng

#LoRa
#LoRa end-devices
# e.g. make DEVEUI=70B3D57ED0045254 APPEUI=0000000000000000 APPKEY=F159FCCD151F4DE8CD0EC6635EB3BD89
#      make DEVEUI="70B3D57ED0045254" APPEUI="0000000000000000" APPKEY="F159FCCD151F4DE8CD0EC6635EB3BD89"

#      ID      |      DevEUI      |      AppEUI      |              AppKey             
# st-lrwan1-1  | 70B3D57ED0045254 | 0000000000000000 | F159FCCD151F4DE8CD0EC6635EB3BD89
# st-lrwan1-2  | 70B3D57ED0045255 | 0000000000000000 | BCC3D56B18276D3CF35E71A777D09077
# st-lrwan1-3  | 70B3D57ED0045256 | 0000000000000000 | 36845439C11AA880A1BE5DCF8D746D94
# st-lrwan1-4  | 70B3D57ED0045257 | 0000000000000000 | 937ADDF636AE39B9DD068D8837994D80
# st-lrwan1-5  | 70B3D57ED0045258 | 0000000000000000 | 95EA876FC1CB51E5ED48920836BDB2FF
# st-lrwan1-6  | 70B3D57ED0045259 | 0000000000000000 | 8219788E4D2A57769432EBAB2F65135F
# st-lrwan1-7  | 70B3D57ED004525A | 0000000000000000 | 6212AA5564D59EE92E83448C99992CCB
# st-lrwan1-8  | 0000000000000000 | 0000000000000000 | 00000000000000000000000000000000
# st-lrwan1-9  | 0000000000000000 | 0000000000000000 | 00000000000000000000000000000000
# st-lrwan1-10 | 0000000000000000 | 0000000000000000 | 00000000000000000000000000000000
# st-lrwan1-11 | 0000000000000000 | 0000000000000000 | 00000000000000000000000000000000
# st-lrwan1-12 | 0000000000000000 | 0000000000000000 | 00000000000000000000000000000000
# st-lrwan1-13 | 0000000000000000 | 0000000000000000 | 00000000000000000000000000000000
# st-lrwan1-14 | 0000000000000000 | 0000000000000000 | 00000000000000000000000000000000
# st-lrwan1-15 | 0000000000000000 | 0000000000000000 | 00000000000000000000000000000000
# st-lrwan1-16 | 0000000000000000 | 0000000000000000 | 00000000000000000000000000000000
# st-lrwan1-17 | 0000000000000000 | 0000000000000000 | 00000000000000000000000000000000
# st-lrwan1-18 | 0000000000000000 | 0000000000000000 | 00000000000000000000000000000000
# st-lrwan1-19 | 0000000000000000 | 0000000000000000 | 00000000000000000000000000000000
# st-lrwan1-20 | 0000000000000000 | 0000000000000000 | 00000000000000000000000000000000
# st-lrwan1-21 | 0000000000000000 | 0000000000000000 | 00000000000000000000000000000000
# st-lrwan1-22 | 0000000000000000 | 0000000000000000 | 00000000000000000000000000000000
# st-lrwan1-23 | 0000000000000000 | 0000000000000000 | 00000000000000000000000000000000
# st-lrwan1-24 | 0000000000000000 | 0000000000000000 | 00000000000000000000000000000000
# st-lrwan1-25 | 0000000000000000 | 0000000000000000 | 00000000000000000000000000000000

USEMODULE += fmt #Module to Import "fmt.h" in "main.c"
LORA_REGION ?= EU868 # Default region is Europe and default band is 868MHz
USEMODULE += semtech_loramac_rx
# Include the Semtech-loramac package
USEPKG += semtech-loramac
USEMODULE += sx1276 #Module to Import "sx127x.h" in "main.c" # Default radio driver is Semtech SX1276 (used by the B-L072Z-LRWAN1 board)

# Custom Makefile variables to be used as Constants in "main.c" to set LoRa parameters 
# You have to insert them using shell, otherwise "main.c" does not compile (Mandatory shell parameters) 
DEVEUI ?= 0000000000000000
APPEUI ?= 0000000000000000
APPKEY ?= 0000000000000000

CFLAGS += -DDEVEUI='"$(DEVEUI)"'
CFLAGS += -DAPPEUI='"$(APPEUI)"'
CFLAGS += -DAPPKEY='"$(APPKEY)"'

include $(RIOTBASE)/Makefile.include
